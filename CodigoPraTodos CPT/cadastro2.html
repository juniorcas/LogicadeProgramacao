<h1>AutoCarro Setúbal</h1>

<p>Cadastro de Carros para venda</p>
<p>Para adicionar um novo carro, preencha o formulário a seguir:</p>

<form id="cadastro">
    <label for="marca">Marca:</label>
    <input type="text" name="marca" id="marca" placeholder="Volkswagen" required>
    <br>
    <label for="modelo">Modelo:</label>
    <input type="text" name="modelo" id="modelo" placeholder="Gol" required>
    <br>
    <label for="ano">Ano:</label>
    <input type="text" name="ano" id="ano" placeholder="2013" required>
    <br>
    <label for="preco">Preco:</label>
    <input type="text" name="preco" id="preco" placeholder="19350" required>
    <br>
    <label for="descricao">Descricão:</label>
    <textarea name="descricao" id="descricao" rows="5" placeholder="Carro lindo e confortável"></textarea>
    <br>
    <button type="submit">Cadastrar</button>
</form>

<script>
    function cadastrarCarro(event) {
        // previne o refresh do form
        event.preventDefault();

        // obtem os dados dos campos do formulario 
        var dadosDeCadastro = new FormData(formDeCadastro);

        // obtem o modelo do carro 
        var modelo = dadosDeCadastro.get("modelo");
        // obtem o ano do carro 
        var ano = dadosDeCadastro.get("ano");
        // obtem o preco do carro
        var preco = dadosDeCadastro.get("preco");
        
        // verifica se o campo modelo, ano ou preco esta vazio e retorna mensagem de alerta
        if (!modelo || !ano || !preco) {
            alert("Por favor, preencha o modelo, o ano e o preco do carro!");
            return false;
        }

        // converte o ano para numero 
        ano = Number(ano)
        
        // verificar se o usuario entrou um numero inválido 
        if (isNaN(ano)) {
            alert("Número do ano do carro está inválido");
            return false;
        } else if (ano < 1886) { // verifica se o ano do carro é real
            alert("Não há registros de carros antes de 1886, criado por Karl Benz!");
            return false;
        
        }

        // converte o preco para numero 
        preco = Number(preco)

        // verifica se o usuario entrou um numero inválido
        if(isNaN(preco)) {
            alert("Preco está incorreto");
            return false;
        } else if (preco < 0) { // verifica se o preco é maior que zero 0
            alert("Preco precisa ser maior que zero");
            return false;
        }

       
        // prepara mensagem de sucesso
        var mensagem = "O carro " + modelo + " / " + ano + " foi cadastrado com sucesso!";

        alert(mensagem);
    }

    var formDeCadastro = document.getElementById("cadastro");
    formDeCadastro.addEventListener("submit", cadastrarCarro);


</script>