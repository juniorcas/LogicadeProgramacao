<h1>AutoCarro Setúbal</h1>

<p>Cadastro de Carros para venda</p>
<p>Para adicionar um novo carro, preencha o formulário a seguir:</p>

<form id="cadastro">
    <input type="text" name="modelo" placeholder="Modelo do Carro"><br>
    <input type="text" name="ano" placeholder="Ano"><br>
    <button type="submit">Cadastrar</button>
</form>

<script>
    function cadastrarCarro(event) {
        // previne o refresh do form
        event.preventDefault();

        // obtem os dados dos campos do formulario 
        var dadosDeCadastro = new FormData(formDeCadastro);

        // obtem o modelo do carro 
        var modelo = dadosDeCadastro.get("modelo");
        // obtem o ano do carro 
        var ano = dadosDeCadastro.get("ano");
        
        // declara a variavel modelo e ano
        if (!modelo || !ano) {
            alert("Por favor, preencha o modelo e o ano do carro!");
            return false;
        }

        // converte o ano para numero 
        ano = Number(ano)

        // verificar se o usuario entrou um numero inválido 
        if (isNaN(ano)) {
            alert("Número do ano do carro está inválido");
            return false;
        } else if (ano < 1886) { // verifica se o ano do carro é real
            alert("Não há registros de carros antes de 1886, criado por Karl Benz!");
            return false;
        
        }

       
        // prepara mensagem de sucesso
        var mensagem = "O carro " + modelo + " / " + ano + " foi cadastrado com sucesso!";

        alert(mensagem);
    }

    var formDeCadastro = document.getElementById("cadastro");
    formDeCadastro.addEventListener("submit", cadastrarCarro);


</script>